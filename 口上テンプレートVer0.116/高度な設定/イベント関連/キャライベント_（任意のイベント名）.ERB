;特定のキャラをメインにするイベントカテゴリ
;YYYYを任意のイベント名に変えて使うこと、他との重複不可

@イベント発生条件_キャライベント_YYYY
;開放条件を満たしたら1を返すこと
IF 開放条件式
	RETURN 1
ENDIF
RETURN 0

@イベント消滅条件_キャライベント_YYYY
;この条件を満たした時、イベントは発生してない扱いとなる
;発生条件＞消滅条件で見るので、発生と消滅を両方満たしている時は「発生した！」というメッセージが出るが発生していない扱いになる
;そのため条件には注意すること

;消滅条件を満たしたら1を返す
; IF 消滅条件式
; 	RETURN 1
; ENDIF
; RETURN 0

;例えば、「発生条件を満たしている時のみ出現させたい」のなら以下のようになる
; CALL イベント発生条件_キャライベント_YYYY
; IF RESULT
; 	;発生条件OKなので0を返す
; 	RETURN 0
; ELSE
; 	;発生条件アウトなので1を返す
; 	RETURN 1
; ENDIF

@イベント関数_キャライベント_YYYY(ARG)
DRAWLINE
PRINTL ［YYYY］
DRAWLINE
PRINTW
PRINTFORMW イベント文章
PRINTFORMW イベント文章
PRINTFORMW イベント文章

;イベント中にアイテムやステータスの変動が起こる場合、以下の分岐の中に記述すること
;イベント再視聴で無限に稼ぎが出来たりしないようにする措置
IF !FLAG:クリア済み視聴フラグ
ENDIF

CALL イベント完了フラグ汎用処理("YYYY")



[SKIPSTART]
以下、キャライベントの作成例
-------------------------------------------------------------
好感度要素：恋心度がレベル３０相当にまで上がった時、レベル４０相当まで上げるイベント
-------------------------------------------------------------
@イベント発生条件_キャライベント_YYYY

;開放条件を満たしたら1を返すこと
SIF CFLAG:キャラ検索("[キャラの二つ名]キャラの名前"):恋心度 < 経験値テーブル:29
	RETURN 0

RETURN 1

@イベント関数_キャライベント_YYYY(ARG)
#DIM 対象キャラ
#DIM 上昇量
対象キャラ = キャラ検索("[キャラの二つ名]キャラの名前")

DRAWLINE
PRINTL ［YYYY］
DRAWLINE
PRINTW
PRINTFORMW イベント文章
PRINTFORMW イベント文章
PRINTFORMW イベント文章

;ここに恋心度上昇処理
上昇量 = 経験値テーブル:39 - CFLAG:対象キャラ:恋心度
IF 上昇量 > 0
	NOWEX:対象キャラ:恋心度上昇格納 += 上昇量
ELSE
	;既にLv40以上なのでなんか当たり障りのない量を上げる
	NOWEX:対象キャラ:恋心度上昇格納 += 1000
ENDIF

CALL 関係性ゲージUP用関数(対象キャラ, 0, "好感度")
NOWEX:対象キャラ:恋心度上昇格納 = 0

CALL イベント完了フラグ汎用処理("YYYY")
[SKIPEND]





