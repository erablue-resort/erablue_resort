
@固有奥義_1370(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 奥義威力
#DIMS 奥義名
#DIM 表示用奥義威力

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 40
	奥義名 = 真・最終決戦奥義・無式
	奥義威力 = 0
	表示用奥義威力 = 840
ELSE
	奥義名 = 最終決戦奥義・無式
	奥義威力 = 0
	表示用奥義威力 = 600
;テスト用
;	アビ汎用変数:必要奥義ゲージ量 = 0
;	アビ汎用変数:消費奥義ゲージ量 = 0

ENDIF

;奥義威力を0にした場合、通常の奥義処理は行われず奥義追加効果のみが行われる。
;全体攻撃にしたい時や、攻撃しない奥義を作る場合は0に設定のこと


;下の４つの文字列に文章を入れると、対象選択時の文章を変化させることが出来る。
;これらを使わない場合は「誰を攻撃しますか？」と表示される。
;アビ汎用文字列:選択時メッセージ１ = 
;アビ汎用文字列:選択時メッセージ２ = 
;アビ汎用文字列:選択時メッセージ３ = 
;アビ汎用文字列:選択時メッセージ４ = 

;下の４つの文字列に文章を入れると、奥義使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の奥義：（奥義名）！」と表示される。
;アビ汎用文字列:実行時メッセージ１ = 
;アビ汎用文字列:実行時メッセージ２ = 
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = %奥義名%
	CASE "奥義説明文"
		詳細文文字列受け渡し変数 = 奥義威力：{表示用奥義威力}％<br>
		詳細文文字列受け渡し変数 += "巨大な火柱を発生させ、全身に炎を纏いながら連続で攻撃する。"
		RETURN 奥義威力
	CASE "奥義説明文_詳細"
		IF 奥義名 == "真・最終決戦奥義・無式"
			詳細文文字列受け渡し変数 += "敵単体に［攻撃力✕70％］のダメージを14回与える。"
		ELSEIF 奥義名 == "最終決戦奥義・無式"
			詳細文文字列受け渡し変数 += "敵単体に［攻撃力✕120％］のダメージを5回与える。"
		ENDIF
	CASE "奥義前効果"
		;対象決定の後、ダメージよりも前に発生する効果。基本の奥義ダメージ部分は記載する必要はない。
		;奥義威力が0だとここの部分もスキップされる

		;処理の都合上、ここから奥義ダメージまでにリセットを噛ませてないため
		;必要な場合を除きここでリセット
		CALL アビ汎用変数文字列リセット
	CASE "奥義追加効果"
		;ここに奥義効果を記述する。基本の奥義ダメージ部分は記載する必要はない。
		;基本的にアビテンプレートの関数を使用すること
		;テンプレート使用の例は固有アビリティ_キャラ名.ERBに記載
		IF 奥義名 == "真・最終決戦奥義・無式"
			CALL アビ汎用変数文字列リセット
			アビ汎用文字列:ダメージ種類 = 奥義ダメージ
			CALL アビ対象選択テンプレート_敵単体
			アビ汎用変数:効果割合 = 70
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
		ELSEIF 奥義名 == "最終決戦奥義・無式"
			CALL アビ汎用変数文字列リセット
			アビ汎用文字列:ダメージ種類 = 奥義ダメージ
			CALL アビ対象選択テンプレート_敵単体
			アビ汎用変数:効果割合 = 100
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
		ENDIF
ENDSELECT
