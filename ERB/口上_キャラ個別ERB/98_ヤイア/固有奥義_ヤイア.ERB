@固有奥義_98(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 奥義威力
#DIM 効果数値
#DIM 効果数値２
#DIM 効果数値３
#DIM 効果ターン
#DIMS 奥義名

;レベルなどの条件で奥義を強化する場合、奥義名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 34
	IF 陥落チェック(キャラ番号)
		奥義名 = なかなおり♪
		奥義威力 = 0
		効果数値 = 50
		効果数値２ = 30
		効果数値３ = 500
		効果ターン = 5
	ELSE
		奥義名 = ヤイアのちゃーはん！＋＋
		奥義威力 = 0
		効果数値 = 40
		効果数値２ = 20
		効果ターン = 4
	ENDIF
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 18
	奥義名 = ヤイアのちゃーはん！＋
	奥義威力 = 0
	効果数値 = 30
ELSE
	奥義名 = ヤイアのちゃーはん！
	奥義威力 = 0
	効果数値 = 20
ENDIF

;奥義威力を0にした場合、通常の奥義処理は行われず奥義追加効果のみが行われる。
;全体攻撃にしたい時や、攻撃しない奥義を作る場合は0に設定のこと

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = %奥義名%
	CASE "奥義説明文"
		詳細文文字列受け渡し変数 = 
		IF 奥義名 == "ヤイアのちゃーはん！"
			詳細文文字列受け渡し変数 += @"<br>味方全体のＨＰを［回復力×{効果数値}％］回復させる。"
		ELSEIF 奥義名 == "ヤイアのちゃーはん！＋"
			詳細文文字列受け渡し変数 += @"<br>味方全体のＨＰを［回復力×{効果数値}％］回復させる。"
		ELSEIF 奥義名 == "ヤイアのちゃーはん！＋＋"
			詳細文文字列受け渡し変数 += @"<br>味方全体のＨＰを［回復力×{効果数値}％］回復させる。"
			詳細文文字列受け渡し変数 += @"<br>{効果ターン}ターンの間、味方全体の攻撃力と防御力を［{効果数値２}％/独自枠］上昇させる。"
		ELSEIF 奥義名 == "なかなおり♪"
			詳細文文字列受け渡し変数 = 奥義威力：{効果数値３}％　　自属性全体攻撃
			詳細文文字列受け渡し変数 += @"<br>味方全体のＨＰを［回復力×{効果数値}％］回復させる。"
			詳細文文字列受け渡し変数 += @"<br>{効果ターン}ターンの間、味方全体の攻撃力と防御力を［{効果数値２}％/独自枠］上昇させる。"
			詳細文文字列受け渡し変数 += @"<br>味方全体に{効果ターン}ターンの間、再生効果［回復力×10％（上限400）/独自枠}を与える。"
		ENDIF
		RETURN 奥義威力
	CASE "奥義追加効果"
		;ここに奥義効果を記述する。基本の奥義ダメージ部分は記載する必要はない。
		;直接記述しても良いが、基本的にアビテンプレートの関数を使用すると便利で良い
		;テンプレート使用の例は下部分を参照
		IF 奥義名 == "ヤイアのちゃーはん！"
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値
			CALL アビテンプレート_回復処理_MAXでも回復
		ELSEIF 奥義名 == "ヤイアのちゃーはん！＋"
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値
			CALL アビテンプレート_回復処理_MAXでも回復
		ELSEIF 奥義名 == "ヤイアのちゃーはん！＋＋"
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値
			CALL アビテンプレート_回復処理_MAXでも回復

			CALL アビ汎用変数文字列リセット
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値２
			アビ汎用文字列:バフ・デバフ枠 = 攻撃力_ﾁｬｰﾊﾝ
			アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
			アビ汎用変数:持続ターン = 効果ターン
			CALL アビテンプレート_有利効果_バフ効果セット

			CALL アビ汎用変数文字列リセット
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値２
			アビ汎用文字列:バフ・デバフ枠 = 防御力_ﾁｬｰﾊﾝ
			アビ汎用文字列:バフ・デバフ対象能力 = 防御力
			アビ汎用変数:持続ターン = 効果ターン
			CALL アビテンプレート_有利効果_バフ効果セット

		ELSEIF 奥義名 == "なかなおり♪"
			;奥義仕様先登録のため、ダメージ種類設定
			アビ汎用文字列:ダメージ種類 = 奥義ダメージ
			CALL アビ対象選択テンプレート_敵全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値３	;攻撃力の500%
			CALL アビテンプレート_ダメージ処理_自属性

			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値
			CALL アビテンプレート_回復処理_MAXでも回復

			CALL アビ汎用変数文字列リセット
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値２
			アビ汎用文字列:バフ・デバフ枠 = 攻撃力_ﾅｶﾅｵﾘ
			アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
			アビ汎用変数:持続ターン = 効果ターン
			CALL アビテンプレート_有利効果_バフ効果セット

			CALL アビ汎用変数文字列リセット
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値２
			アビ汎用文字列:バフ・デバフ枠 = 防御力_ﾅｶﾅｵﾘ
			アビ汎用文字列:バフ・デバフ対象能力 = 防御力
			アビ汎用変数:持続ターン = 効果ターン
			CALL アビテンプレート_有利効果_バフ効果セット

			CALL アビ汎用変数文字列リセット
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用文字列:バフ・デバフ枠 = 再生_ﾅｶﾅｵﾘ
			アビ汎用文字列:バフ・デバフ対象能力 = 再生
			アビ汎用変数:効果割合 = 0
			CALL バフ込み数値算出("回復力")
			アビ汎用変数:効果量 = MIN(RESULT * 10 / 100, 400)
			アビ汎用変数:持続ターン = 効果ターン
			CALL アビテンプレート_有利効果_バフ効果セット
		ENDIF
ENDSELECT
RETURN RESULT
