;アビリティ１：苛烈な尋問：敵1人に対して攻撃力の120%分のダメージ/防御力を20%減少
;アビリティ２：狂犬の執念：自身の攻撃力を27%増加。DA、TA率上昇
;アビリティ３：公安局特製弾：味方全体の「与ダメージ」で強化

;----------------------------------------------------------------------------------
@固有アビ_1720_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果数値
#DIM 防御低下値
#DIM 効果ターン
#DIM 成功率

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 24
	アビ名 = 苛烈な尋問+
	消費ＭＰ = 40
	効果数値 = 130
	防御低下値 = 30
	効果ターン = 4
	成功率 = 120
ELSE
	アビ名 = 苛烈な尋問
	消費ＭＰ = 40
	効果数値 = 120
	防御低下値 = 20
	効果ターン = 3
	成功率 = 100
ENDIF

アビ汎用文字列:実行時メッセージ１ = 「容疑者、確保」


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵単体に自属性の［攻撃力✕{効果数値}％］ダメージ
		詳細文文字列受け渡し変数 += @"<br>更に敵単体の防御力を［{防御低下値}％/{効果ターン}T］減少させる［消去不可］"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵単体
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 防御低下値
		アビ汎用文字列:バフ・デバフ枠 = 防御力_尋問
		アビ汎用文字列:バフ・デバフ対象能力 = 防御力
		アビ汎用変数:持続ターン = 効果ターン
		アビ汎用変数:基礎成功確率 = 成功率
		アビ汎用変数:消去不可オプション = 1
		CALL アビテンプレート_不利効果_デバフ効果セット
ENDSELECT

;----------------------------------------------------------------------------------
@固有アビ_1720_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 攻撃上昇値
#DIM 連撃率
#DIM 効果ターン

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 32
	アビ名 = 狂犬の執念+
	消費ＭＰ = 30
	攻撃上昇値 = 37
	効果ターン = 4
	連撃率 = 50
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 12
	アビ名 = 狂犬の執念
	消費ＭＰ = 30
	攻撃上昇値 = 27
	効果ターン = 3
	連撃率 = 40
ENDIF

アビ汎用文字列:実行時メッセージ１ = 「ヴァルキューレ公安局だ。止まれ！」

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>自身の攻撃力を［{攻撃上昇値}％/{効果ターン}T］上昇する［消去不可］
		詳細文文字列受け渡し変数 += @"<br>更に自身のDA・TA確率を［{連撃率}％/{効果ターン}T］上昇する［消去不可］"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果割合 = 攻撃上昇値
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力_執念
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 効果ターン
		アビ汎用変数:消去不可オプション = 1
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 連撃率
		アビ汎用文字列:バフ・デバフ枠 = DA率_執念
		アビ汎用文字列:バフ・デバフ対象能力 = DA率
		アビ汎用変数:持続ターン = 効果ターン
		アビ汎用変数:消去不可オプション = 1
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 連撃率
		アビ汎用文字列:バフ・デバフ枠 = TA率_執念
		アビ汎用文字列:バフ・デバフ対象能力 = TA率
		アビ汎用変数:持続ターン = 効果ターン
		アビ汎用変数:消去不可オプション = 1
		CALL アビテンプレート_有利効果_バフ効果セット
ENDSELECT


;----------------------------------------------------------------------------------
@固有アビ_1720_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果ターン
#DIM 与ダメ上昇率
#DIM 奥義ゲージ量

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 40
	アビ名 = 公安局特製弾+
	消費ＭＰ = 60
	与ダメ上昇率 = 30
	効果ターン = 4
	奥義ゲージ量 = 30
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 20
	アビ名 = 公安局特製弾
	消費ＭＰ = 60
	与ダメ上昇率 = 20
	効果ターン = 3
	奥義ゲージ量 = 20
ENDIF

アビ汎用文字列:実行時メッセージ１ = 「間に合ったか……！　援護する！」

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>味方全体の与ダメージを［{与ダメ上昇率}％/{効果ターン}T］上昇させる［消去不可］
		詳細文文字列受け渡し変数 += @"<br>更に自身の奥義ゲージを{奥義ゲージ量}上昇させる。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用文字列:バフ・デバフ枠 = 与ダメ増加_特製弾
		アビ汎用文字列:バフ・デバフ対象能力 = 与ダメージ
		アビ汎用変数:効果割合 = 与ダメ上昇率
		アビ汎用変数:持続ターン = 効果ターン
		アビ汎用変数:消去不可オプション = 1
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 奥義ゲージ量
		CALL アビテンプレート_有利効果_奥義ゲージUP
ENDSELECT

;--------------------------------------------------
;戦闘能力の固有処理説明
;--------------------------------------------------
@口上_ステータス画面_固有特性解説_1720(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

;口上と同じ感覚で使う為に書式を統一しているが、ステータス画面で表示されるので
;基本的にWAIT系列は使わないことを推奨

KSTR:(K++) = □ 特性：『執念深き狂犬』 □-------------------------------------------------------------------------------
KSTR:(K++) = 　全てのバフ・デバフに［消去不可］オプションが付与される
KSTR:(K++) = 　

CALL 口上変数表示(対象キャラ, 1)
