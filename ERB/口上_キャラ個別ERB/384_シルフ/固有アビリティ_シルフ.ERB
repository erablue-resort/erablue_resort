
@固有アビ_384_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果数値

;スタイル判定関数を呼び出す
;スタイル変更が無い場合はここは何も触らなくて良い
IF スタイル判定関数(キャラ番号, "デフォルト") == 0
	アビ名 = 
	RETURN 0
ENDIF

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 45
	アビ名 = デア・アルカヌム
	効果数値 = 100
	消費ＭＰ = 120
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
	アビ名 = デア・アルカヌム
	効果数値 = 100
	消費ＭＰ = 180
ELSE
	アビ名 = デア・アルカヌム
	効果数値 = 50
	消費ＭＰ = 90
ENDIF

;初期状態で習得しない場合は以下のようにする
; IF 基礎BATTLE_STATE:キャラ番号:Lv >= 習得するレベル
; 	アビ名 = （任意のアビリティの名前）
; 	消費ＭＰ = （消費するMPの数値）
; ELSE
; 	アビ名 = 
; ENDIF


;下の４つの文字列に文章を入れると、対象選択時の文章を変化させることが出来る。
;これらを使わない場合は「誰に使用しますか？」と表示される。		
;アビ汎用文字列:選択時メッセージ１ = 
;アビ汎用文字列:選択時メッセージ２ = 
;アビ汎用文字列:選択時メッセージ３ = 
;アビ汎用文字列:選択時メッセージ４ = 

;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
;アビ汎用文字列:実行時メッセージ１ = 
;アビ汎用文字列:実行時メッセージ２ = 
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>自身以外の味方単体に霊蝶の祝福効果を与える。［永続/消去不可］
		詳細文文字列受け渡し変数 += @"<br>＞［30％］被ダメージ減少効果を与える。"
		詳細文文字列受け渡し変数 += @"<br>＞［{効果数値}％］防御力・弱体耐性上昇効果を与える。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方単体_生者のみ_自己以外
		アビ汎用文字列:バフ・デバフ枠 = 霊蝶の祝福
		アビ汎用文字列:バフ・デバフ対象能力 = 霊蝶の祝福
		アビ汎用変数:効果量 = 0
		アビ汎用変数:持続ターン = -1
		アビ汎用変数:消去不可オプション = 1
		アビ汎用変数:特殊表示オプション = 1
		CALL アビテンプレート_有利効果_バフ効果セット
		
		CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 霊蝶の祝福_被ダメージ
		アビ汎用文字列:バフ・デバフ対象能力 = 被ダメージ
		アビ汎用変数:効果割合 = 30
		CALL アビテンプレート_有利効果_付随バフ効果セット("霊蝶の祝福")
		
		CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 霊蝶の祝福_防御力
		アビ汎用文字列:バフ・デバフ対象能力 = 防御力
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_有利効果_付随バフ効果セット("霊蝶の祝福")
		
		CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 霊蝶の祝福_弱体耐性
		アビ汎用文字列:バフ・デバフ対象能力 = 弱体耐性
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_有利効果_付随バフ効果セット("霊蝶の祝福")
ENDSELECT



@固有アビ_384_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果数値

;スタイル判定関数を呼び出す
;スタイル変更が無い場合はここは何も触らなくて良い
IF スタイル判定関数(キャラ番号, "デフォルト") == 0
	アビ名 = 
	RETURN 0
ENDIF

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 45
	アビ名 = リーベ・フロイデ
	効果数値 = 100
	消費ＭＰ = 100
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
	アビ名 = リーベ・フロイデ
	効果数値 = 100
	消費ＭＰ = 120
ELSE
	アビ名 = リーベ・フロイデ
	効果数値 = 50
	消費ＭＰ = 50
ENDIF

;初期状態で習得しない場合は以下のようにする
; IF 基礎BATTLE_STATE:キャラ番号:Lv >= 習得するレベル
; 	アビ名 = （任意のアビリティの名前）
; 	消費ＭＰ = （消費するMPの数値）
; ELSE
; 	アビ名 = 
; ENDIF


;下の４つの文字列に文章を入れると、対象選択時の文章を変化させることが出来る。
;これらを使わない場合は「誰に使用しますか？」と表示される。		
;アビ汎用文字列:選択時メッセージ１ = 
;アビ汎用文字列:選択時メッセージ２ = 
;アビ汎用文字列:選択時メッセージ３ = 
;アビ汎用文字列:選択時メッセージ４ = 

;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
;アビ汎用文字列:実行時メッセージ１ = 
;アビ汎用文字列:実行時メッセージ２ = 
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>自身以外の味方単体に［{効果数値}％］奥義ゲージ増加を与える。
		SIF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
			詳細文文字列受け渡し変数 += @"<br>更に［50％］（独自枠・1回）奥義ダメージ上昇効果を与える。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方単体_生者のみ_自己以外
		アビ汎用変数:効果量 = 効果数値
		CALL アビテンプレート_有利効果_奥義ゲージUP
		
		
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
			CALL アビ汎用変数文字列リセット
			アビ汎用文字列:バフ・デバフ枠 = リーベフロイデ_奥義D
			アビ汎用文字列:バフ・デバフ対象能力 = ダメージ補正_奥義ダメージ
			アビ汎用変数:効果割合 = 50
			アビ汎用変数:持続回数 = 1
			CALL アビテンプレート_有利効果_バフ効果セット
		ENDIF
ENDSELECT



@固有アビ_384_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名

;スタイル判定関数を呼び出す
;スタイル変更が無い場合はここは何も触らなくて良い
IF スタイル判定関数(キャラ番号, "デフォルト") == 0
	アビ名 = 
	RETURN 0
ENDIF

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 45
	アビ名 = レーツェル・タンツェン
	消費ＭＰ = 120
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
	アビ名 = レーツェル・タンツェン
	消費ＭＰ = 90
ELSE
	アビ名 = レーツェル・タンツェン
	消費ＭＰ = 60
ENDIF

;初期状態で習得しない場合は以下のようにする
; IF 基礎BATTLE_STATE:キャラ番号:Lv >= 習得するレベル
; 	アビ名 = （任意のアビリティの名前）
; 	消費ＭＰ = （消費するMPの数値）
; ELSE
; 	アビ名 = 
; ENDIF


;下の４つの文字列に文章を入れると、対象選択時の文章を変化させることが出来る。
;これらを使わない場合は「誰に使用しますか？」と表示される。		
;アビ汎用文字列:選択時メッセージ１ = 
;アビ汎用文字列:選択時メッセージ２ = 
;アビ汎用文字列:選択時メッセージ３ = 
;アビ汎用文字列:選択時メッセージ４ = 

;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
;アビ汎用文字列:実行時メッセージ１ = 
;アビ汎用文字列:実行時メッセージ２ = 
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に［30％］（Ｃ枠・6ターン）攻撃力・防御力減少効果を与える。<br>
		SIF 基礎BATTLE_STATE:キャラ番号:Lv >= 45
			詳細文文字列受け渡し変数 += @"［100％］（Ｃ枠・6ターン）のDA率・TA率減少効果を与える。<br>"
		SIF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
			詳細文文字列受け渡し変数 += @"［50％］（Ｃ枠・6ターン）の命中率減少効果を与える。<br>総じて"
		詳細文文字列受け渡し変数 += @"基礎成功率200％。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵全体_生者のみ
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力C
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:効果割合 = 30
		アビ汎用変数:持続ターン = 6
		アビ汎用変数:基礎成功確率 = 200
		CALL アビテンプレート_不利効果_デバフ効果セット

		CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 防御力C
		アビ汎用文字列:バフ・デバフ対象能力 = 防御力
		アビ汎用変数:効果割合 = 30
		アビ汎用変数:持続ターン = 6
		アビ汎用変数:基礎成功確率 = 200
		CALL アビテンプレート_不利効果_デバフ効果セット
		
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
			CALL アビ汎用変数文字列リセット
			アビ汎用変数:効果割合 = 50
			アビ汎用文字列:バフ・デバフ枠 = 命中率C
			アビ汎用文字列:バフ・デバフ対象能力 = 命中率
			アビ汎用変数:持続ターン = 6
			アビ汎用変数:基礎成功確率 = 200
			CALL アビテンプレート_不利効果_デバフ効果セット
			IF 基礎BATTLE_STATE:キャラ番号:Lv >= 45
				CALL アビ汎用変数文字列リセット
				アビ汎用変数:効果割合 = 100
				アビ汎用文字列:バフ・デバフ枠 = DA率C
				アビ汎用文字列:バフ・デバフ対象能力 = DA率
				アビ汎用変数:持続ターン = 6
				アビ汎用変数:基礎成功確率 = 200
				CALL アビテンプレート_不利効果_デバフ効果セット
				
				CALL アビ汎用変数文字列リセット
				アビ汎用変数:効果割合 = 100
				アビ汎用文字列:バフ・デバフ枠 = TA率C
				アビ汎用文字列:バフ・デバフ対象能力 = TA率
				アビ汎用変数:持続ターン = 6
				アビ汎用変数:基礎成功確率 = 200
				CALL アビテンプレート_不利効果_デバフ効果セット
			ENDIF
		ENDIF
ENDSELECT



@バフ・デバフ特殊表示_霊蝶の祝福(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
VARSET LOCALS

PRINTL 霊蝶の祝福
PRINTL 防御力・弱体耐性上昇/被ダメージ減少［永続/消去不可］



;--------------------------------------------------
;戦闘能力の固有処理説明
;--------------------------------------------------
@口上_ステータス画面_固有特性解説_384(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

;口上と同じ感覚で使う為に書式を統一しているが、ステータス画面で表示されるので
;基本的にWAIT系列は使わないことを推奨

KSTR:(K++) = □ 特性 □-------------------------------------------------------------------------------
KSTR:(K++) = 　
KSTR:(K++) = 　
KSTR:(K++) = 　
KSTR:(K++) = 　

CALL 口上変数表示(対象キャラ, 1)
