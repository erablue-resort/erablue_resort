;****************************************
;ダンジョン探索中にダンジョンハプニングを踏んだとき表示される文章
;****************************************
;・使い方
;「XXXX」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;****************************************

;--------------------------------------------------
;「スカート捲れ」時
;--------------------------------------------------
@KOJO_ハプニング_スカート捲れ_169(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)


IF TALENT:対象キャラ:恋慕
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「そんなにじろじろ見なくとも……毎度のように見てるではありませんか……_H_」
		WSTR:(K++) = 「……こういうのはシチュエーションが大事？　もう……馬鹿なこと言ってないで先に進みますよ」
	CASE 1
		WSTR:(K++) = 「あの……最近お尻が大きくなってきたので……そんなに見られると恥ずかしいのですが……_H_」
		WSTR:(K++) = 「なおさら顔を近づけなくとも結構ですっ！」
	ENDSELECT
ELSEIF TALENT:対象キャラ:セフレ
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「ぁ……っ_H_　もうっ、そんなにじろじろ見ないでください……_H_」
		WSTR:(K++) = 「そんなに見たいなら今夜……ってなにを言わせてるんですか……！」
	CASE 1
		WSTR:(K++) = 「……見てしまいましたね、私の勝負下着……！」
		WSTR:(K++) = 「いえ、決して期待していたわけではありません。ありませんので。そのつもりで」
	ENDSELECT
ELSE
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「きゃあっ！？　……み、見ました……？」
		WSTR:(K++) = 「忘れてください。即刻。今すぐに。いいですね？　はい返事」
	CASE 1
		WSTR:(K++) = 「……っ！？　……今のは事故です。えぇえぇ、事故なのです」
		WSTR:(K++) = 「なので今見たものは忘れてください。よろしいですか？　よろしいですね？」
	ENDSELECT
ENDIF


CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

;--------------------------------------------------
;「ポロリ発生」時
;--------------------------------------------------
@KOJO_ハプニング_ポロリ発生_169(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

IF TALENT:対象キャラ:恋慕
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「ひゃ……っ！？　……な、なん……！？　あぁもうっ、こんな危険地帯で鼻息を荒げてないで直すのを手伝ってください……！」
		WSTR:(K++) = %CALLNAME:MASTER%はふるふると柔らかそうに震える%CALLNAME:対象キャラ%の乳房をなるべく見ないようにしながら手を貸した……
	CASE 1
		WSTR:(K++) = 「わ、ひゃ……！？　……うぅ……衣服を直しますから、手を貸していただけますか……？」
		WSTR:(K++) = 恥ずかしそうに顔を赤らめる%CALLNAME:対象キャラ%にそそられるものを感じながら、%CALLNAME:MASTER%は手を貸した……
	ENDSELECT
ELSEIF TALENT:対象キャラ:セフレ
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「ひゃ……っ！？　……な、なん……！？　あぁもうっ、こんな危険地帯で鼻息を荒げてないで直すのを手伝ってください……！」
		WSTR:(K++) = %CALLNAME:MASTER%はふるふると柔らかそうに震える乳房をなるべく見ないようにしながら手を貸した……
	CASE 1
		WSTR:(K++) = 「わ、ひゃ……！？　……うぅ……衣服を直しますから、手を貸していただけますか……？」
		WSTR:(K++) = 恥ずかしそうに顔を赤らめる%CALLNAME:対象キャラ%にそそられるものを感じながら、%CALLNAME:MASTER%は手を貸した……
	ENDSELECT
ELSE
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「っ！？　……申し訳ありません。お見苦しいものをお見せしました」
	CASE 1
		WSTR:(K++) = 「っ！？　……すぐに直しますので、むこうを向いててください」
	ENDSELECT
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

;--------------------------------------------------
;「乳タッチ」時
;--------------------------------------------------
@KOJO_ハプニング_乳タッチ_169(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

IF TALENT:対象キャラ:恋慕
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「ぁ……っ_H_　ぅんっ_H_　大丈夫ですか？　よかった……。しかし注意散漫は褒められないことです。以後気を付けてくださいね？」
		WSTR:(K++) = 「あと、この続きは……危険のないリゾートでするべきです。よろしいですか？_H_」
		WSTR:(K++) = %CALLNAME:対象キャラ%は怒った様子を見せたがすぐに微笑み、%CALLNAME:MASTER%の頭を撫でながら子供へ言い聞かせるように言った……
	CASE 1
		WSTR:(K++) = 「あぁ、危なかったです……貴方に何かあったら……私は……。……ともかく次はちゃんと足元に注意して歩きましょう。いいですね？」
		WSTR:(K++) = 「んぅっ_H_　こらっ_H_　どさくさに紛れて強く揉まないでください_H_　本当にもう……_H_」
		WSTR:(K++) = 表面上は怒った様子を見せているが、ちらちらと期待を乗せた視線を向けてきている……
	ENDSELECT
ELSEIF TALENT:対象キャラ:セフレ
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「ぁ……っ_H_　ぅんっ_H_　大丈夫ですか？　よかった……。しかし注意散漫は褒められないことです。以後気を付けてくださいね？」
		WSTR:(K++) = 「あと、この続きは……危険のないリゾートでするべきです。よろしいですか？_H_」
		WSTR:(K++) = %CALLNAME:対象キャラ%は怒った様子を見せたがすぐに微笑み、%CALLNAME:MASTER%の頭を撫でながら子供へ言い聞かせるように言った……
	CASE 1
		WSTR:(K++) = 「あぁ、危なかったです……貴方に何かあったら……私は……。……ともかく次はちゃんと足元に注意して歩きましょう。いいですね？」
		WSTR:(K++) = 「んぅっ_H_　こらっ_H_　どさくさに紛れて強く揉まないでください_H_　本当にもう……_H_」
		WSTR:(K++) = 表面上は怒った様子を見せているが、ちらちらと期待を乗せた視線を向けてきている……
	ENDSELECT
ELSE
	WSTR:(K++) = 「危ないっ！　……大丈夫ですか？　怪我は？　ありませんね、よかった……」
	WSTR:(K++) = 「あぁ、胸のことならお気になさらず。ただの事故ですから……えぇ、ただの事故。これは事故……」
	WSTR:(K++) = %CALLNAME:対象キャラ%は己へ言い聞かせるように『事故』と同じ言葉を繰り返した……
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

;--------------------------------------------------
;「発情罠」時、陥落状態だと物陰でセックスする
;--------------------------------------------------
@KOJO_ハプニング_発情罠セックス_169(対象キャラ)
#DIM 対象キャラ

;V挿入したことがない場合、V快楽は発生しない
;A挿入したことがない場合、A快楽は発生しない

CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

IF TALENT:対象キャラ:恋慕
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「今、錬金術で簡易ですが結界を張りました……_H_　そこまで長くはありませんが、この中は安全です_H_　なので、お願いします_H_」
		WSTR:(K++) = 「この疼きを鎮める為にも_H_　今すぐ私を抱いてください……_H_　もうこれ以上は……耐えられそうにないんです……っ_H__H_」
		WSTR:(K++) = スカートをめくり上げ、しとどに濡れた秘部を晒し交尾をねだる%CALLNAME:対象キャラ%へと%CALLNAME:MASTER%は頷き、そっと抱きしめた……
	CASE 1
		WSTR:(K++) = 「ごめんなさい……_H_　ですが、私もう……止まらなくて……これ以上は耐えられなくって……っ_H__H_」
		WSTR:(K++) = 近場の物陰へ%CALLNAME:MASTER%を強引に引っ張ってきた%CALLNAME:対象キャラ%はスカートをめくり上げ秘部を晒しながらそう告げた。
		WSTR:(K++) = 淫裂から太ももを伝ってとめどなく半透明の愛液が流れ落ちてゆく。むわ……_H_　と濃い牝の臭いが%CALLNAME:MASTER%のオスの本能を刺激する。
		WSTR:(K++) = 「こんなおばさんですが……抱いてくださいますか……？_H__H_」
		WSTR:(K++) = 次の瞬間、%CALLNAME:MASTER%は%CALLNAME:対象キャラ%を抱き寄せ唇を塞いだ……
	ENDSELECT
ELSEIF TALENT:対象キャラ:セフレ
	SELECTCASE RAND:2
	CASE 0
		WSTR:(K++) = 「今、錬金術で簡易ですが結界を張りました……_H_　そこまで長くはありませんが、この中は安全です_H_　なので、お願いします_H_」
		WSTR:(K++) = 「この疼きを鎮める為にも_H_　今すぐ私を抱いてください……_H_　もうこれ以上は……耐えられそうにないんです……っ_H__H_」
		WSTR:(K++) = スカートをめくり上げ、しとどに濡れた秘部を晒し交尾をねだる%CALLNAME:対象キャラ%へと%CALLNAME:MASTER%は頷き、そっと抱きしめた……
	CASE 1
		WSTR:(K++) = 「ごめんなさい……_H_　ですが、私もう……止まらなくて……これ以上は耐えられなくって……っ_H__H_」
		WSTR:(K++) = 近場の物陰へ%CALLNAME:MASTER%を強引に引っ張ってきた%CALLNAME:対象キャラ%はスカートをめくり上げ秘部を晒しながらそう告げた。
		WSTR:(K++) = 淫裂から太ももを伝ってとめどなく半透明の愛液が流れ落ちてゆく。むわ……_H_　と濃い牝の臭いが%CALLNAME:MASTER%のオスの本能を刺激した。
		WSTR:(K++) = 「こんなおばさんですが……抱いてくださいますか……？_H__H_」
		WSTR:(K++) = 次の瞬間、%CALLNAME:MASTER%は%CALLNAME:対象キャラ%を抱き寄せ唇を塞いだ……
	ENDSELECT
ELSE
	WSTR:(K++) = 「ふーっ_H_　ふーっ_H_　……これは、今後の探索を、優位に進めるための、発散行為、です……_H_」
	WSTR:(K++) = 「なので、%CALLNAME:MASTER%さん……。貴方に手を貸していただければと……_H_」
	WSTR:(K++) = 据わった目をした%CALLNAME:対象キャラ%の言葉に%CALLNAME:MASTER%が頷くや否や、彼女は%CALLNAME:MASTER%を物陰へと引きずり込んだ……
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

;--------------------------------------------------
;「発情罠」時、陥落状態だと物陰でオナニーする
;--------------------------------------------------
@KOJO_ハプニング_発情罠オナニー_169(対象キャラ)
#DIM 対象キャラ

;部位の決定方法は一日終了時オナニーと同様
;（全部位からランダム、ABLや敏感素質があると確率UP
;　V経験・A経験が無い場合はそれぞれV・Aは選択されない
;　男の場合、V・Bは選択されない）

CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

IF 知識素質:対象キャラ:性知識 < 0 && EXP:対象キャラ:自慰経験 <= 0
	;性知識と自慰経験が無い場合、あなたが自慰を教えてあげるシチュになる
	;接触ソースが発生し、キャラがオナニー覚えたて状態になる
	WSTR:(K++) = 
ELSE
	WSTR:(K++) = 「ぅ……っ！？_H_　体が……熱く……っ_H_」
	WSTR:(K++) = 「だ、駄目よプロメティア……_H_　こんなところで……股間に手を伸ばすだなんて……_H_　なんてはしたない……っ_H_」
	WSTR:(K++) = 「で、ですが……すこしだけ、なら……_H_　探索を、有利に進めるために……少しだけ……発散するだけ、ですから……っ_H_」
	WSTR:(K++) = 「んぅ_H_　ん゛ん゛～～～～～～……っ_H_」
	WSTR:(K++) = %CALLNAME:対象キャラ%は物陰でがに股になると、スカートで口を塞ぎそろそろと股間に指を伸ばした……
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

