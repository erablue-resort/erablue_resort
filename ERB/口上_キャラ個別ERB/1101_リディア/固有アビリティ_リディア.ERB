
@固有アビ_1101_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 効果数値
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 26
	アビ名 = デブチョコボ
	効果数値 = 300
	消費ＭＰ = 60
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 12
	アビ名 = チョコボ＋
	効果数値 = 250
	消費ＭＰ = 30
ELSE
	アビ名 = チョコボ
	効果数値 = 200
	消費ＭＰ = 20
ENDIF


アビ汎用文字列:実行時メッセージ１ = チョコボキックをお見舞いした！



SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵単体に［攻撃力✕{効果数値}％］の自属性ダメージを与える。
		;チョコボ軍団の場合
		IF アビ名 == "デブチョコボ"
				詳細文文字列受け渡し変数 += @"<br>［1］のアイテムドロップ率上昇効果を与える。"
		ENDIF
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵単体

		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性
		
	IF アビ名 == "デブチョコボ"
		CALL アビ汎用変数文字列リセット
		CALL アビテンプレート_不利効果_トレハン
	ENDIF
ENDSELECT

@固有アビ_1101_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 効果数値
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 24
	アビ名 = タイタン＋
	効果数値 = 280
	消費ＭＰ = 80
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 7
	アビ名 = タイタン
	効果数値 = 200
	消費ＭＰ = 50
ELSE
	アビ名 = 
ENDIF


;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
アビ汎用文字列:実行時メッセージ１ = タイタンの大地の怒り！


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に［攻撃力✕{効果数値}］の土属性ダメージを与える。
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵全体
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_土属性
ENDSELECT

@固有アビ_1101_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 効果数値
#DIM 効果成功率
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 34
	アビ名 = マインドフレア＋＋
	効果数値 = 120
	効果成功率 = 50
	消費ＭＰ = 180
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 28
	アビ名 = マインドフレア＋
	効果数値 = 110
	効果成功率 = 40
	消費ＭＰ = 130
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 16
	アビ名 = マインドフレア
	効果数値 = 100
	効果成功率 = 30
	消費ＭＰ = 100
ELSE
	アビ名 = 
ENDIF

;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
アビ汎用文字列:実行時メッセージ１ = マインドブラスト！
アビ汎用文字列:実行時メッセージ２ = 敵の脳味噌がちょっと変色する！
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に［攻撃力✕{効果数値}％］の自属性ダメージを与える。
		詳細文文字列受け渡し変数 += @"<br>様々なデバフを与える。"
		RETURN 消費ＭＰ
	CASE "アビ説明文_詳細"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に［攻撃力✕{効果数値}％］の自属性ダメージを与える。
		詳細文文字列受け渡し変数 += @"<br>［30％］の魅了効果を与える。成功率{効果成功率}％。"
		詳細文文字列受け渡し変数 += @"<br>［30％］の封印効果を与える。成功率{効果成功率}％。"
		詳細文文字列受け渡し変数 += @"<br>［30％］の暗闇効果を与える。成功率{効果成功率}％。"
		詳細文文字列受け渡し変数 += @"<br>恐怖効果を与える。成功率{効果成功率}％。"
		詳細文文字列受け渡し変数 += @"<br>［30％］の麻痺効果を与える。成功率{効果成功率}％。"
		詳細文文字列受け渡し変数 += @"<br>［30％］の混乱効果を与える。成功率{効果成功率}％。"
		;マインドブラスト＋＋の場合
		IF アビ名 == "マインドブラスト＋＋"
			詳細文文字列受け渡し変数 += @"<br>即死効果を与える。成功率20％。"
		ENDIF
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵全体_生者のみ

		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性
		
			CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 魅了
		アビ汎用文字列:バフ・デバフ対象能力 = 魅了
		アビ汎用変数:効果割合 = 30
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:基礎成功確率 = 効果成功率
		CALL アビテンプレート_不利効果_デバフ効果セット
		
			CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 封印
		アビ汎用文字列:バフ・デバフ対象能力 = 封印
		アビ汎用変数:効果割合 = 30
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:基礎成功確率 = 効果成功率
		CALL アビテンプレート_不利効果_デバフ効果セット

			CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 暗闇
		アビ汎用文字列:バフ・デバフ対象能力 = 暗闇
		アビ汎用変数:効果割合 = 30
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:基礎成功確率 = 効果成功率
		CALL アビテンプレート_不利効果_デバフ効果セット
		
			CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 恐怖
		アビ汎用文字列:バフ・デバフ対象能力 = 恐怖
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:基礎成功確率 = 効果成功率
		CALL アビテンプレート_不利効果_デバフ効果セット
		
			CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 麻痺
		アビ汎用文字列:バフ・デバフ対象能力 = 麻痺
		アビ汎用変数:効果割合 = 30
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:基礎成功確率 = 効果成功率
		CALL アビテンプレート_不利効果_デバフ効果セット
		
			CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 混乱
		アビ汎用文字列:バフ・デバフ対象能力 = 混乱
		アビ汎用変数:効果割合 = 30
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:基礎成功確率 = 効果成功率
		CALL アビテンプレート_不利効果_デバフ効果セット
		
	IF アビ名 == "マインドフレア＋＋"
			CALL アビ汎用変数文字列リセット
		アビ汎用変数:基礎成功確率 = 20
		CALL アビテンプレート_不利効果_即死
	ENDIF
ENDSELECT
RETURN RESULT

@固有アビ_1101_4(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 効果数値
#DIM 消費ＭＰ
#DIM 効果タイプ
#DIM 味方番号
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 39
	アビ名 = アスラ＋
	効果数値 = 150
	消費ＭＰ = 120
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
	アビ名 = アスラ
	効果数値 = 100
	消費ＭＰ = 100
ELSE
	アビ名 = 
ENDIF



;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
アビ汎用文字列:実行時メッセージ１ = アスラの祝福！
アビ汎用文字列:実行時メッセージ２ = 三面六臂！
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>戦闘不能の味方がいる時、味方全体に［回復力✕{効果数値}］（蘇生可）のＨＰ回復を与える。
		詳細文文字列受け渡し変数 += @"<br>戦闘不能の味方がおらず、ＨＰが50％未満の味方がいる時、味方全体に［回復力✕{効果数値}％］のＨＰ回復を与える。"
		詳細文文字列受け渡し変数 += @"<br>戦闘不能の味方がおらず、かつ全員のＨＰが50％以上の時、味方全体に［50％］（通常枠・3回）の被ダメージ減少効果を与える。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
				効果タイプ = 0
		FOR 味方番号, 0, 4
			SIF BATTLE_STATE:味方番号:キャラ登録番号 < 1
				CONTINUE
			IF BATTLE_STATE:味方番号:ＨＰ < 1
				効果タイプ = 1
			ELSEIF BATTLE_STATE:味方番号:ＨＰ * 2 < BATTLE_STATE:味方番号:最大ＨＰ
				効果タイプ = 2
			ENDIF
		NEXT
			CALL アビ対象選択テンプレート_味方全体_生者のみ
	;戦闘不能の味方がいる場合、味方全体に[HP+100]の蘇生効果
	IF 効果タイプ == 1
		CALL アビ対象選択テンプレート_味方全体_死者のみ
		アビ汎用変数:効果量 = 効果数値
		アビ汎用変数:蘇生可能オプション = 1
		CALL アビテンプレート_回復処理
	ELSEIF 効果タイプ == 2
		;戦闘不能の味方がおらず、HP50％未満の味方がいる場合、味方全体に[回復力✕{効果数値}%]のHP回復効果
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_回復処理_MAXでも回復
	ELSE
		;いない場合、ダメージカット[50%]のブロック効果
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用変数:効果割合 = 50
		アビ汎用文字列:バフ・デバフ枠 = 被ダメージ減少
		アビ汎用文字列:バフ・デバフ対象能力 = 被ダメージ
		アビ汎用変数:持続回数 = 3
		CALL アビテンプレート_有利効果_バフ効果セット
	ENDIF
ENDSELECT


