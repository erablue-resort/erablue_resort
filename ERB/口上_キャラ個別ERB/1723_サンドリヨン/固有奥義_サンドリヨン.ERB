
@固有奥義_1723(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 奥義威力
#DIMS 奥義名
#DIM バフ・デバフ行数


IF 基礎BATTLE_STATE:キャラ番号:Lv >= 40
	奥義名 = クリスタルスラッシュ+
	奥義威力 = 500
ELSE
	奥義名 = クリスタルスラッシュ
	奥義威力 = 350
ENDIF

;奥義威力を0にした場合、通常の奥義処理は行われず奥義追加効果のみが行われる。
;全体攻撃にしたい時や、攻撃しない奥義を作る場合は0に設定のこと

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = %奥義名%
	CASE "奥義説明文"
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 40
			詳細文文字列受け渡し変数 = 奥義威力：{奥義威力}％<br>
			詳細文文字列受け渡し変数 += @"<br>自身にホワイトウィッシュ効果［4ターン］"
		ELSE
			詳細文文字列受け渡し変数 = 奥義威力：{奥義威力}％<br>
			詳細文文字列受け渡し変数 += @"<br>自身にホワイトウィッシュ効果［4ターン］"
		ENDIF
		RETURN 奥義威力
	CASE "奥義前効果"
		;対象決定の後、ダメージよりも前に発生する効果。基本の奥義ダメージ部分は記載する必要はない。
		;奥義威力が0だとここの部分もスキップされる
	CASE "奥義追加効果"
		;ここに奥義効果を記述する。基本の奥義ダメージ部分は記載する必要はない。
		;基本的にアビテンプレートの関数を使用すること
		;テンプレート使用の例は固有アビリティ_キャラ名.ERBに記載
		
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = ホワイトウィッシュ
		アビ汎用文字列:バフ・デバフ対象能力 = ホワイトウィッシュ
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:特殊表示オプション = 1
		CALL アビテンプレート_有利効果_バフ効果セット

			CALL アビ汎用変数文字列リセット
			アビ汎用文字列:バフ・デバフ枠 = ホワイトウィッシュ ダメージ
			アビ汎用文字列:バフ・デバフ対象能力 = ダメージ補正_ドローショット
			アビ汎用変数:効果割合 = 50
			CALL アビテンプレート_有利効果_付随バフ効果セット("ホワイトウィッシュ")

			CALL アビ汎用変数文字列リセット
			アビ汎用文字列:バフ・デバフ枠 = ホワイトウィッシュ　命中率
			アビ汎用文字列:バフ・デバフ対象能力 = 命中率
			アビ汎用変数:効果割合 = 30
			CALL アビテンプレート_有利効果_付随バフ効果セット("ホワイトウィッシュ")
ENDSELECT

@バフ・デバフ特殊表示_ホワイトウィッシュ(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
VARSET LOCALS

PRINTFORML ホワイトウィッシュ
PRINTFORML 自身のドローショットの描ける線の長さが延長され
PRINTFORML 弾のサイズが拡大し、貫通力が上がる
PRINTFORML 持続ターン：{DT_CELL_GET("戦闘効果データベース", バフ・デバフ行数, "持続ターン")}
