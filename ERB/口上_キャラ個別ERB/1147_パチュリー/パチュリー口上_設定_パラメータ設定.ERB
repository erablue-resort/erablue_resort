;--------------------------------------------------
;●パチュリー・ノーレッジ口上＠erablue_resort用
;　――キャラの初期パラメータを口上側で制御するためのファイル
;--------------------------------------------------

;--------------------------------------------------
;●ライセンス/更新履歴/概要/使用フラグ
;--------------------------------------------------
;　いずれもパチュリー口上_readme.txt記載に従う
;--------------------------------------------------

;--------------------------------------------------
;●初期パラメータ変更
;--------------------------------------------------
;NEWGAME時に呼ばれる関数、ロード時には呼ばれないことに注意
;TALENTをONOFFしたり、EXPの取得や初期ABLの変更などをここに記述すること
;--------------------------------------------------
@口上側初期パラメータ変更_1147
#DIM 対象キャラ
	対象キャラ = GETCHARA(1147)

	;キャラクターが自分を指す際の呼び方
	;システム側では使用しておらず、口上用の変数になる。
	;使用予定がなければ無記載でOK（固定で「私はオーナーが好き」と言わせるなら未記入でよい）
	;/
	;例えば「最初は『オレ』と言っていて、陥落すると『わたし』になる」などのケースで使用する
	;「_一人称_はオーナーが好き」というふうに書くことで、初期は「オレはオーナーが好き」、その後「わたしはオーナーが好き」になる
	CSTR:対象キャラ:一人称 = 私

	;キャラクターがあなたを指す際の呼び方
	;これも一人称と同様、未記載でよい。
	;/
	;パチュリー口上では、「最初はぞんざいに『あんた』」、
	;「好感度が上がると『オーナーさん』あるいは『設定された名前』」で呼ぶことを想定している
	CSTR:対象キャラ:二人称 = あんた

	;キャラクターが固有に持つ独自の好感度要素の名前
	;「恋心、信頼、友情、性愛」以外の追加要素になる
	;通常上昇しないので、設定した場合はキャラ固有処理_1147.ERBなどで上昇処理も作ること
	;/
	;初期設定は「？？？」、初うふふ後イベントで「精液収集」に変化する……という想定。まだ実装してない。
;	CSTR:対象キャラ:キャラ固有好感度要素 = ？？？
	CSTR:対象キャラ:キャラ固有好感度要素 = 

	;プレゼントの好み
	;基本的にはCSVで設定すべきだが、口上特有の設定をする場合はここに記述
	;/
	;種類は下記の通り。
	;　食べ物,酒,宝石,アクセサリ,実用品,本,花,その他
	;複数好みにする場合は「食べ物_酒」のように記述する
	;/
	;パチュリーのCSV初期設定は「本」のみ
	;ただ、幻想郷の少女たちなので、酒もあっていいなぁ……と思ったので追加しちゃう
	CSTR:対象キャラ:プレゼント好み = 本_酒

	;身長やバストの数値を指定する・変更する場合
	;CSVで設定を推奨、これは「口上側でどうしても変更したい！」時にのみ使う
	;/
	;単位はミリ。149センチは1490、58.6センチは586と記載する
	;未記載ならば[小柄][巨乳]などの設定から自動設定されるはず
;	BASE:対象キャラ:身長 = 1490
;	BASE:対象キャラ:バスト = 
;	BASE:対象キャラ:ウェスト = 
;	BASE:対象キャラ:ヒップ = 

;--------------------------------------------------
;●ロード時パラメータ変更
;--------------------------------------------------
;ロード時に呼ばれる変数。NEWGAME時に呼ばれないことに注意
;初期パラメータ関数だけだと後から追加した時にバグるため追加
;--------------------------------------------------
@口上側LOADENDパラメータ変更_1147
	LOCAL = GETCHARA(1147)

	;キャラクターが自分を指す際の呼び方
	;空欄であれば設定する
	IF CSTR:LOCAL:一人称 == ""
		CSTR:LOCAL:一人称 = 私
	ENDIF

	;キャラクターがあなたを指す際の呼び方
	;空欄であれば設定する
	IF CSTR:LOCAL:二人称 == ""
		CSTR:LOCAL:二人称 = あんた
	ENDIF

	;キャラクターが固有に持つ独自の好感度要素の名前
	;通常上昇しないので、設定した場合はキャラ固有処理_1147.ERBなどで上昇処理も作ること
	;/
	;初期設定は「？？？」、初うふふ後イベントで「精液収集」に変化する……という想定。まだ実装してない。
	IF CSTR:LOCAL:キャラ固有好感度要素 == ""
;		CSTR:対象キャラ:キャラ固有好感度要素 = ？？？
	ENDIF

;--------------------------------------------------
;●弱点コマンド制御
;--------------------------------------------------
;各変数にコマンド番号を入れること
;派生コマンドや専用コマンドは「370_1」のように記述すること
;--------------------------------------------------
@弱点コマンド変更_1147

	;ここで指定しなかった枠はランダムで埋められる
	;ランダムで埋める場合、枠０・１はセクハラコマンド、２・３はうふふコマンド、４は完全ランダムに選択される
	LOCAL = GETCHARA(1147)

	;弱点コマンドは50個まで設定できる（まあ、特に多くても、10個くらいに収めておくのがいいと思うけど……）
	;/
	;弱点コマンド設定コンセプト：
	;　全身雑魚のマゾメス魔法使い
	;　陥没乳首と子宮が特に雑魚
	;/
	;　0：乳首当てゲーム（陥没乳首設定で一番美味しいコマンドだと思うので……）
	;　1：知識を教わる（知識を教えることは（めんどくさがるかもだが）嫌いではない、という独自設定）
	;　　　……それ弱点コマンドっていうかなあ！？　とも思うが、独自設定しないと設定されないコマンドではある
	;　2：身体に触れる_下腹部を圧迫する
	;　3：乳首責め（陥没乳首状態なら「乳首ほじり」）
	;　4：V挿入する_ポルチオ責め
	;　5：A挿入する_子宮裏を責める
	;　6：体外式ポルチオマッサージ　※設定時点では弱点にできないのでコメントアウト
	弱点コマンド枠:LOCAL:0 = 325
	弱点コマンド枠:LOCAL:1 = 304
	弱点コマンド枠:LOCAL:2 = 306_14
	弱点コマンド枠:LOCAL:3 = 7
	弱点コマンド枠:LOCAL:4 = 60_2
	弱点コマンド枠:LOCAL:5 = 62_2
;	弱点コマンド枠:LOCAL:6 = 体外式ポルチオマッサージ

;--------------------------------------------------
;●フレーバー素質設定
;--------------------------------------------------
@フレーバー素質初期設定変更_1147
	LOCAL = GETCHARA(1147)

	;素質表示設定の値に応じる設定は下記の通り。
	;　０：表示されない
	;　１：設定済み（どこで設定したかは問わない）
	;　２：未設定で初対面時に設定
	;　３：未設定で初うふふ時に設定
	;……なので、ここで設定する場合は１になるだろうか。
	;/
	;なお、全体設定は「初対面時、初うふふ時、生成時ランダム設定」の３種で、
	;これに加えて「口上で設定されているならそれに従う」、「口上で設定されていても設定タイミングで再設定する」がある
	フレーバー素質:LOCAL:素質表示設定 = 1

	;設定するフレーバー素質は下記の通り。
	;　陰毛：濃い。くさそう（確信）
	;　乳首：大きめ。土台となる乳房が爆乳にしてもデカい。
	;　乳輪：大きめ。同上。
	;　膣内：締まりはやや緩そう……あえて分類するなら巾着系かもだが、名器レベルかは微妙かしら。設定しない。
	;　クリ：平均的
	;　ほくろ：乳首横。乳押し。
	IF フレーバー素質:LOCAL:素質表示設定 == 1
		;以下の要素は0の時、表示されない

		;陰毛
		;1:パイパン 2:薄め 3:普通 4:濃いめ 5:剛毛
		フレーバー素質:LOCAL:陰毛濃さ = 4

		;乳首サイズ
		;1:豆粒大 2:小さめ 3:平均的 4:大きめ 5:巨乳首
		フレーバー素質:LOCAL:乳首大きさ = 4

		;乳輪サイズ
		;1:極小 2:小さめ 3:平均的 4:大きめ 5:巨乳輪
		フレーバー素質:LOCAL:乳輪大きさ = 4

		;膣内の具合
		;1:ミミズ千匹 2:数の子天井 3:タコツボ 4:巾着 5:俵締め
		;/
		;それぞれはこんな感じの具合。いずれも非常にレアらしい。
		;ミミズ千匹
		;　膣のヒダをたくさんのミミズが動いているように感じると言われている名器
		;数の子天井
		;　膣の上部内壁がザラザラとして、そのザラザラとした凹凸が数の子のように感じるという名器
		;タコツボ
		;　膣が男性器にピッタリと合い、奥の方が締まっているという特徴を持つ名器
		;巾着
		;　巾着は、小物入れの巾着のように、膣の入り口が締まっている女性器
		;俵締め
		;　複数個所で締まる部分が存在する名器
		フレーバー素質:LOCAL:性器種類 = 0

		;クリトリスサイズ
		;1:小さめ 2:平均的 3:大きめ
		;（4にクリチンポが設定されているが、後天的に変化するパターンを想定しているので初期値にはしないこと）
		フレーバー素質:LOCAL:クリ大きさ = 2

		;ほくろ
		;ビット管理
		;ビット0：乳首付近　1：性器付近　2：アナル付近　3：陰茎（ふたなり時のみ）
		;/
		;特に設定はしない部分もサンプルとして残しておく
		SETBIT フレーバー素質:LOCAL:ほくろ位置, 0
;		SETBIT フレーバー素質:LOCAL:ほくろ位置, 1
;		SETBIT フレーバー素質:LOCAL:ほくろ位置, 2
;		SETBIT フレーバー素質:LOCAL:ほくろ位置, 3

	ENDIF

;--------------------------------------------------
;●固有好感度設定
;--------------------------------------------------
;好感度要素の「恋心、信頼、友情、性愛」以外の要素の段階名を設定する
;初期パラメータ変更の方で固有好感度を付けておかないと発動しないので注意
;--------------------------------------------------
@キャラ固有好感度関係名_1147(ARG)

	;参考：関係呼称
	;　友情：初対面/他人/顔見知り/友人/親友/無二の友
	;　信頼：初対面/他人/顔見知り/知己/相棒/水魚の交わり
	;　恋心：初対面/他人/顔見知り/気になる人/想い人/最愛の人
	;　性愛：初対面/他人/顔見知り/性癖に合う/自慰の対象/肉欲の虜
	;　恋慕：脈ナシ/ちょっと気になる/なんかいいかも/好意を自覚/ラブラブ/最愛の人
	;/
	;パチュリーは固有好感度？として「？？？/精液収集」を設定している
	;初期設定は「？？？」、初うふふ後イベントで「精液収集」に変化する
	;段階イメージは以下の通り。
	;　？？？：初うふふ前は固定でコレ。上がらない。
	;　魔力供給者：精液の形で魔力を供給してくれる人物として見ている。
	;　精液供給者：精液の形で魔力を供給してくれる人物として見ている。……ホントだよ。
	;　協力者：魔力以外でも協力してくれてる人物。
	;　協力者：魔力以外でも協力してくれてる人物。……ありがたいかも、と自覚しているかもしれない。コメントが変化するよ。
	;　関係者（はぁと）：関係者は関係者です。
	;/
	;関係値は射精されるたびに上昇し、一定値まで溜まったあと、イベントによって次段階に進む……というカタチにする予定。
	;また、オーナーの魔法知識などでもキャップがある。
	;（４段階の協力者２に行くためには、オーナーに魔法知識Lv2が必要）

	;……という想定。まだ実装してない。
;	SELECTCASE ARG
;		CASE IS == 関係閾値:0
;			RESULTS = ？？？
;		CASE IS <= 関係閾値:1
;			RESULTS = 魔力供給者
;		CASE IS <= 関係閾値:2
;			RESULTS = 精液供給者
;		CASE IS <= 関係閾値:3
;			RESULTS = 協力者
;		CASE IS <= 関係閾値:4
;			RESULTS = 協力者
;		CASE IS <= 関係閾値:5
;			RESULTS = 関係者<img src='えっちハート'>
;	ENDSELECT
	RETURN



;--------------------------------------------------
;●固有ぱんつ設定
;--------------------------------------------------
@固有ぱんつ設定_1147(対象キャラ)
#FUNCTIONS
#DIM 対象キャラ

	;条件を分岐させ、パンツの名前をRESULTSにいれる
	;RESULTS = 白の清楚な下着
	;など
	;現状、「スカートたくしあげ」のオートコマンドのみで使用

	;スカートたくし上げは陥落していないとダメ
	;（……でいうとパチュリーは[無関心]があるので見せてくれないが……まあ設定するのはほぼ損しないし）
	;/
	;恋慕以上かつ興奮してると穴あきになる
	IF TALENT:対象キャラ:恋慕 && BASE:対象キャラ:性欲 > 1500
		RESULTS = 穴あきドロワーズ
	ELSE
		RESULTS = ドロワーズ
	ENDIF



;--------------------------------------------------
;●固有子供命名設定
;--------------------------------------------------
@固有子供命名設定_1147(対象キャラ, 子供性別, 子供順番, 案出し回数)
#DIM 対象キャラ
#DIM 子供性別
#DIM 子供順番
#DIM 案出し回数
VARSET RESULTS

	;子供性別は性別TALENTと共通、1:女性　2:男性　3:ふたなり
	;子供順番は「今回生んだ子で」何番目の子供か（つまり双子以上の時に使用）
	;案出し回数はこの関数が呼ばれた回数（ランダムでなく順番に名前候補を提案させたい場合に使用）

	;特に設定はしない
	;こういう感じで書けばいいのかな～というのだけ残しておく

	;IF 0は、絶対に行かない分岐
	IF 0
		IF 0
		;男の場合
		ELSEIF 子供性別 == 2
			IF 0
			;共用で使える名前のパターン
			ELSEIF !RAND:3
				;下記からランダムで１個選ぶ
				STRDATA LOCALS
					DATA カオル
					DATA ハル
					DATA ナツ
					DATA アキ
					DATA フユ
					DATA ナギ
				ENDDATA
			;男専用、順番も考慮するパターン（太郎、二郎……）
			ELSEIF !RAND:2
				IF 0
				;一人っ子の場合、子供順番はゼロになる＝かならずここに入る
				ELSEIF 子供順番 == 0
					LOCALS = 太郎
				;双子以上の場合、生まれた順番に「１、２、３……」と設定される
				ELSEIF 子供順番 == 1
					LOCALS = 一郎
				ELSEIF 子供順番 == 2
					LOCALS = 二郎
				ELSEIF 子供順番 == 3
					LOCALS = 三郎
				ELSEIF 子供順番 == 4
					LOCALS = 四郎
				ELSE
					;トメ、シメという名前は「これで子供終わりにする」という名前。
					;まあその後に続くことも多いが。
					;なお女性名。まあこれ半分サンプルだから……
					LOCALS = トメ
				ENDIF
			;男専用、順番関係ないパターン
			;ただ案出し回数は考慮してみる
			ELSE
				;パチュリーは曜日モチーフで名前を付ける……かもしれない
				;案出し回数を７で割り、余りを見る
				IF 0
				ELSEIF 案出し回数 % 7 == 6
					LOCALS = 日郎
				ELSEIF 案出し回数 % 7 == 5
					LOCALS = 月郎
				ELSEIF 案出し回数 % 7 == 4
					LOCALS = 火郎
				ELSEIF 案出し回数 % 7 == 3
					LOCALS = 水郎
				ELSEIF 案出し回数 % 7 == 2
					LOCALS = 木郎
				ELSEIF 案出し回数 % 7 == 1
					LOCALS = 金郎
				ELSE
					LOCALS = 土郎
				ENDIF
			ENDIF
		;女性またはふたなり
		ELSE
			;サンプルは↑で出したので適当
			IF 0
			;共用で使える名前のパターン
			ELSEIF !RAND:3
				;下記からランダムで１個選ぶ
				STRDATA LOCALS
					DATA カオル
					DATA ハル
					DATA ナツ
					DATA アキ
					DATA フユ
					DATA ナギ
				ENDDATA
			ELSE
				IF 0
				ELSEIF 案出し回数 % 7 == 6
					LOCALS = 日子
				ELSEIF 案出し回数 % 7 == 5
					LOCALS = 月子
				ELSEIF 案出し回数 % 7 == 4
					LOCALS = 火子
				ELSEIF 案出し回数 % 7 == 3
					LOCALS = 水子
				ELSEIF 案出し回数 % 7 == 2
					LOCALS = 木子
				ELSEIF 案出し回数 % 7 == 1
					LOCALS = 金子
				ELSE
					LOCALS = 土子
				ENDIF
			ENDIF
		ENDIF
	ENDIF

	;りざるつに名前をセットする
	RESULTS '= LOCALS
	RETURN



;--------------------------------------------------
;固有体力補正
;--------------------------------------------------
;体力の計算を一通り終えた後に掛ける補正
;ただし最大値9999は変わらない
;--------------------------------------------------
@固有体力補正_1147(対象キャラ, 体力最大値)
#DIM 対象キャラ
#DIM 体力最大値

	;もやし。体力80％。
	体力最大値 = 体力最大値 * 80 / 100

	RETURN 体力最大値

;--------------------------------------------------
;固有性欲補正
;--------------------------------------------------
;性欲の計算を一通り終えた後に掛ける補正
;ただし最大値9999は変わらない
;--------------------------------------------------
@固有性欲補正_1147(対象キャラ, 性欲最大値)
#DIM 対象キャラ
#DIM 性欲最大値

	;性欲は増やしてもいいんだけど……まあ……やめておこっか！
	RETURN 性欲最大値




