;--------------------------------------------------
;ダンジョン探索中に条件を満たしていた時表示される文章
;--------------------------------------------------
;・使い方
;「40」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;「仲間と会話」ボタン押下時
;簡単に何度も見られるので、条件分岐やランダム化で複数パターンの登録を推奨
;--------------------------------------------------
@KOJO_DUNGEON_仲間と会話_40
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 40)
LOCAL:40 = キャラ隊列検索(LOCAL)

SELECTCASE RAND:5
	CASE 0
		WSTR:(K++) = 「あの雲、リスちゃんの顔に似てませんか？」
		WSTR:(K++) = 「リスちゃんは優しくて可愛くてすごいんです♪」
		WSTR:(K++) = 「ふふ、リスちゃん、待ってててね……」
	CASE 1
		WSTR:(K++) = 「私って、物心ついた時には虹の弓に適合していて……」
		WSTR:(K++) = 「それで大変なこともありましたけど、リスちゃんっていう大切なお友達にも出会えました」
		WSTR:(K++) = 「だから私、虹の弓には感謝してるんです」
	CASE 2
		WSTR:(K++) = 「お菓子、食べますか？」
	CASE 3
		WSTR:(K++) = 「そろそろ出発だと思ってました」
	CASE 4
		WSTR:(K++) = 「%CALLNAME:MASTER%さん、何かあったら私に任せてください」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:40}_顔", CALLNAME:LOCAL,,0)

;--------------------------------------------------
;奥義発動時
;「（キャラ名）の奥義：（奥義名）！」よりも前に表示される
;--------------------------------------------------
@KOJO_DUNGEON_奥義発動時_40
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 40)
LOCAL:40 = キャラ隊列検索(LOCAL)

SELECTCASE RAND:2
	CASE 0
		KSTR:(K++) = 「虹の弓よ、力を貸して！」
	CASE 1
		WSTR:(K++) = 「虹の矢よ……移り気な幼児に願い、七色の夢を架橋せよ！」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:40}_顔", CALLNAME:LOCAL)
CALL 口上変数初期化

;--------------------------------------------------
;戦闘勝利時
;ルピやEXPの取得よりも前に表示される
;--------------------------------------------------
@KOJO_DUNGEON_戦闘勝利時_40
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 40)
LOCAL:40 = キャラ隊列検索(LOCAL)

SELECTCASE RAND:2
	CASE 0
		KSTR:(K++) = 「リスちゃん、褒めてくれるかな…」
	CASE 1
		WSTR:(K++) = 「皆さんお疲れ様です！」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:40}_顔", CALLNAME:LOCAL)
CALL 口上変数初期化

;--------------------------------------------------
;全滅時
;--------------------------------------------------
@KOJO_DUNGEON_全滅時_40
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 40)
LOCAL:40 = キャラ隊列検索(LOCAL)

SELECTCASE RAND:2
	CASE 0
		KSTR:(K++) = 「ごめんなさい…」
	CASE 1
		WSTR:(K++) = 「リスちゃん…助けて…」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:40}_顔", CALLNAME:LOCAL)
CALL 口上変数初期化

;--------------------------------------------------
;逃走時
;--------------------------------------------------
@KOJO_DUNGEON_逃走時_40
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 40)
LOCAL:40 = キャラ隊列検索(LOCAL)

KSTR:(K++) = 「逃げるのは悔しいけど、リスちゃんのためなら……」

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:40}_顔", CALLNAME:LOCAL)
CALL 口上変数初期化
