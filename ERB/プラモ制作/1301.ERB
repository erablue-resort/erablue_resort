
@COM_433_1301表示
;所有プラモを確認し、1以上ならデータを挿入する　20行まで
VARSET LOCAL

;完成済みプラモを全チェック　ベースをカウント

VARSET LOCALS
VARSET プラモ_メッセージウィンドウ下部
;0繰り返し回数　1行数
LOCAL:1 = 1

$LOOP
LOCAL ++

;完成済み
IF プラモ_所有プラ:LOCAL >= 100
	RESULT = LOCAL
	TRYCALLFORM プラモデータ{RESULT}
	;データのチェック　設定無しもスキップ
	IF プラモデータ変数:0 > 0 && プラモデータ文字列:0 != ""
		プラモ_メッセージウィンドウ下部:(LOCAL:1) = [{LOCAL}]%プラモデータ文字列:0%
		LOCAL:1 ++
	ENDIF
	VARSET プラモデータ変数
ENDIF

IF LOCAL:1 > 20
	RETURN 0
ENDIF

IF LOCAL == 800
	RETURN 0
ENDIF

GOTO LOOP







@COM_433_1301実行
;RESULTにナンバーが入った状態で呼び出される


;完成している
IF プラモ_所有プラ:RESULT >= 100
	TRYCALLFORM プラモデータ{RESULT}
	IF プラモデータ変数:0 > 0 && プラモデータ文字列:0 != ""
		GOTO START
	ENDIF
ENDIF



RETURN 0

;ここの時点でプラモデータは入力されている
$START
プラモ愛機ベース:1 = %プラモデータ文字列:0%

;ベースのみプリセットデータを読み込む
	IF プラモデータ文字列:0 != ""
		プラモ_ベース番号:1 = プラモデータ変数
	ELSE
		プラモ_ベース番号:1 = 0
	ENDIF
	IF プラモデータ文字列:31 != ""
		プラモ_ライト番号:1 = プラモデータ変数
	ELSE
		プラモ_ライト番号:1 = 0
	ENDIF
	IF プラモデータ文字列:32 != ""
		プラモ_レフト番号:1 = プラモデータ変数
	ELSE
		プラモ_レフト番号:1 = 0
	ENDIF
	IF プラモデータ文字列:33 != ""
		プラモ_レッグ番号:1 = プラモデータ変数
	ELSE
		プラモ_レッグ番号:1 = 0
	ENDIF
	IF プラモデータ文字列:34 != ""
		プラモ_バック番号:1 = プラモデータ変数
	ELSE
		プラモ_バック番号:1 = 0
	ENDIF
	プラモ愛機ベース:1 = %プラモデータ文字列%
	プラモ愛機ライト:1 = %プラモデータ文字列:31%
	プラモ愛機レフト:1 = %プラモデータ文字列:32%
	プラモ愛機レッグ:1 = %プラモデータ文字列:33%
	プラモ愛機バック:1 = %プラモデータ文字列:34%
	
	プラモ愛機ヘアタイプ:1 = %プラモデータ文字列:12%
	プラモ愛機身長:1 = %プラモデータ文字列:13%
	プラモ愛機バスト:1 = %プラモデータ文字列:14%
	プラモ愛機ヘアカラー赤:1 = プラモデータ変数:21
	プラモ愛機ヘアカラー緑:1 = プラモデータ変数:22
	プラモ愛機ヘアカラー青:1 = プラモデータ変数:23


	プラモ愛機ベースカラー:1 = %プラモデータ文字列:21%
	プラモ愛機ベース赤:1 = プラモデータ変数:24
	プラモ愛機ベース緑:1 = プラモデータ変数:25
	プラモ愛機ベース青:1 = プラモデータ変数:26
	
	プラモ愛機パーソナルカラー数:1 = プラモデータ変数:30

	プラモ愛機パーソナルカラーA:1 = %プラモデータ文字列:22%
	プラモ愛機パーソナル赤A:1 = プラモデータ変数:31
	プラモ愛機パーソナル緑A:1 = プラモデータ変数:32
	プラモ愛機パーソナル青A:1 = プラモデータ変数:33
	プラモ愛機パーソナルカラーB:1 = %プラモデータ文字列:23%
	プラモ愛機パーソナル赤B:1 = プラモデータ変数:34
	プラモ愛機パーソナル緑B:1 = プラモデータ変数:35
	プラモ愛機パーソナル青B:1 = プラモデータ変数:36
	プラモ愛機パーソナルカラーC:1 = %プラモデータ文字列:24%
	プラモ愛機パーソナル赤C:1 = プラモデータ変数:37
	プラモ愛機パーソナル緑C:1 = プラモデータ変数:38
	プラモ愛機パーソナル青C:1 = プラモデータ変数:39
	
	

	
	
	
	

VARSET プラモ_メッセージウィンドウ下部
VARSET LOCALS
IF プラモ愛機名称:1 == ""
	LOCALS:1 = %プラモデータ文字列%
	IF プラモデータ文字列 == "鋼鉄ジーグ"
		;ジーグさんはジーグヘッドだととりあえず無し
		IF RAND:5 <= 3
			LOCALS:1 = 司馬　宙
		ELSE
			LOCALS:1 = 草薙　剣児
		ENDIF
	ELSEIF プラモデータ文字列 == "ガンダムAGE-1"
		LOCALS:1 = フリット・アスノ
	ELSEIF プラモデータ文字列 == "メタルビートル"
		LOCALS:1 = メタビー
	ENDIF
	プラモ愛機名称:1 = %LOCALS:1%
	LOCALS = 愛機名称が未設定のため、名称を%LOCALS:1%に設定しました。
ENDIF

プラモ_メッセージウィンドウ下部:1 = ベース変更に伴い%プラモデータ文字列%のデフォルトデータを読み込みました。
プラモ_メッセージウィンドウ下部:2 = %LOCALS%
プラモ_メッセージウィンドウ下部:3 = 

