@USERCOM編集関数()
#DIM コマンド配列, 100
#DIM 一時配列, 100
#DIM コマンド番号
#DIMS コマンド名

;初期設定
VARSET コマンド配列
VARSET 一時配列
VARSET LOCALS
VARSET LOCAL

SPLIT USERCOM表示文字列, "_", LOCALS
FOR コマンド番号, 0, RESULT
	コマンド配列:コマンド番号 = TOINT(LOCALS:コマンド番号)
NEXT
SIF コマンド配列:0 == 0
	コマンド番号 = 0
LOCAL = 804
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 820
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 999
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 998
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 830
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 831
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 840
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 841
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 850
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 856
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 892
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 893
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 860
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 861
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF
LOCAL = 895
IF MATCH(コマンド配列, LOCAL) < 1
	コマンド配列:コマンド番号 = -1 * LOCAL
	コマンド番号 ++
ENDIF

$動作LOOP

DRAWLINE
PRINTL 表示・非表示は[表示]あるいは[非表示]ボタンで制御出来ます。
PRINTL 表示順は↑↓ボタンで制御出来ます。順番を直接指定することも可能です。
PRINTL OPTIONボタンは非表示に出来ず、常に先頭に表示されます。
DRAWLINE
PRINTPLAINFORM  1： %"OPTION", 24, LEFT%
PRINTL 

FOR コマンド番号, 0, 100
	SIF コマンド配列:コマンド番号 == 0
		BREAK
	PRINTFORM {コマンド番号 + 2, 2}：
	コマンド名 = 
	SELECTCASE ABS(コマンド配列:コマンド番号)
		CASE 804
			コマンド名 = 能力表示(マスター)
		CASE 820
			コマンド名 = 服を脱ぐ
		CASE 999
			コマンド名 = 逢引終了
		CASE 998
			コマンド名 = 飲み会終了
		CASE 830
			コマンド名 = 探索系情報一覧
		CASE 831
			コマンド名 = 覗き見
		CASE 840
			コマンド名 = 物陰に隠れる
		CASE 841
			コマンド名 = 物陰から出る
		CASE 850
			コマンド名 = アイテム使用
		CASE 856
			コマンド名 = 写真一覧
		CASE 892
			コマンド名 = 連れ込み禁止
		CASE 893
			コマンド名 = 休憩時訪問禁止
		CASE 860
			コマンド名 = キャラ居場所感知
		CASE 861
			コマンド名 = 雇用レポート
		CASE 895
			コマンド名 = 挿入最適化
	ENDSELECT
	SIF コマンド配列:コマンド番号 < 0
		SETCOLOR カラーパレット("グレーアウト")
	PRINTPLAINFORM  %コマンド名, 24, LEFT%
	RESETCOLOR
	IF コマンド配列:コマンド番号 > 0
		PRINTPLAIN [表示] / 
		SETCOLOR カラーパレット("グレーアウト")
		PRINTBUTTON "[非表示]", コマンド番号
		RESETCOLOR
	ELSE
		SETCOLOR カラーパレット("グレーアウト")
		PRINTBUTTON "[表示]", コマンド番号
		RESETCOLOR
		PRINTPLAIN  / [非表示]
	ENDIF
	PRINT 　
	IF コマンド番号 > 0
		PRINTBUTTON "[↑]", コマンド番号 + 100
	ELSE
		PRINT 　　
	ENDIF
	IF コマンド配列:(コマンド番号 + 1) != 0
		PRINTBUTTON "[↓]", コマンド番号 + 200
	ELSE
		PRINT 　　
	ENDIF
	PRINT 　
	PRINTBUTTON "[順番指定]", コマンド番号 + 300
	PRINTL
NEXT
DRAWLINE
PRINTBUTTON "[999] 現状の設定を保存して戻る", 999
PRINT 　　
PRINTBUTTON "[998] 保存せず戻る", 998
PRINTL
BINPUT

SELECTCASE RESULT
	CASE 999
		USERCOM表示文字列 = 
		FOR コマンド番号, 0, 100
			SIF コマンド配列:コマンド番号 > 0
				USERCOM表示文字列 += @"{コマンド配列:コマンド番号}_"
		NEXT
		USERCOM表示文字列 '= SUBSTRING(USERCOM表示文字列, 0, STRLENS(USERCOM表示文字列) - 1)
		RETURN 0
	CASE 998
		RETURN 0
	CASE IS >= 300
		LOCAL = RESULT - 300
		DRAWLINE
		PRINTFORML 何番目に移動するかを入力してください（2～{コマンド番号}）
		INPUT
		IF RESULT > コマンド番号 || RESULT < 2
			PRINTL 不正な順番です。
		ELSE
			LOCAL:1 = コマンド配列:LOCAL
			コマンド配列:LOCAL = コマンド配列:(RESULT - 2)
			コマンド配列:(RESULT - 2) = LOCAL:1
		ENDIF
	CASE IS >= 200
		コマンド番号 = RESULT - 200
		LOCAL = コマンド配列:コマンド番号
		コマンド配列:コマンド番号 = コマンド配列:(コマンド番号 + 1)
		コマンド配列:(コマンド番号 + 1) = LOCAL
	CASE IS >= 100
		コマンド番号 = RESULT - 100
		LOCAL = コマンド配列:コマンド番号
		コマンド配列:コマンド番号 = コマンド配列:(コマンド番号 - 1)
		コマンド配列:(コマンド番号 - 1) = LOCAL
	CASEELSE
		コマンド番号 = RESULT
		コマンド配列:コマンド番号 = コマンド配列:コマンド番号 * -1
ENDSELECT

GOTO 動作LOOP
