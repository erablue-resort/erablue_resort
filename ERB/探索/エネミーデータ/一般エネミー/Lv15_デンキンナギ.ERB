
@敵BATTLE_STATE_Lv15_デンキンナギ(対象エネミー)
#DIM 対象エネミー
敵BATTLE_STATE:対象エネミー:Lv = 15
敵BATTLE_STATE:対象エネミー:最大ＨＰ = 1800
敵BATTLE_STATE:対象エネミー:ＨＰ = 1800
敵BATTLE_STATE:対象エネミー:攻撃力 = 700
敵BATTLE_STATE:対象エネミー:防御力 = 660
敵BATTLE_STATE:対象エネミー:回復力 = 0
敵BATTLE_STATE:対象エネミー:行動速度 = 650
敵BATTLE_STATE:対象エネミー:DA率 = 0
敵BATTLE_STATE:対象エネミー:TA率 = 0
敵BATTLE_STATE:対象エネミー:命中率 = 110
敵BATTLE_STATE:対象エネミー:回避率 = 5
敵BATTLE_STATE:対象エネミー:属性 = 1
敵BATTLE_STATE:対象エネミー:所持EXP = 490
敵BATTLE_STATE:対象エネミー:所持ルピ = 470
敵BATTLE_STATE:対象エネミー:最大チャージターン = 2

敵BATTLE_STATE_STR:対象エネミー:種族 = 水棲_魚類
;コンセプト
;強いけど単体あるいは雑魚を１，２体伴ってしか出てこない

@敵討伐後処理_Lv15_デンキンナギ(隊列番号)
#DIM 隊列番号
#DIM ドロップ確率
#DIMS ドロップアイテム
#DIM データベース行数
#DIM トレハンLv

トレハンLv = 0
データベース行数 = デバフ存在チェック("ドロップ率UP")
SIF データベース行数 > -1
	トレハンLv = DT_CELL_GET(@"デバフデータベース_{隊列番号}", データベース行数, "デバフ効果量_固定値")

ドロップ確率 = 20 + トレハンLv * 5
ドロップアイテム = ンナギ
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = (トレハンLv > 0 ? 30 # 5) + トレハンLv * 5
ドロップアイテム = 帯電した珪砂
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)


@敵トリガー行動_Lv15_デンキンナギ
;通常攻撃代わりに２体ランダム攻撃
アビ汎用文字列:実行時メッセージ１ = %敵BATTLE_STATE_STR:(戦闘行動キャラ - 10):エネミー名%の攻撃！

CALL アビ対象選択テンプレート_味方ランダムＸ体(2)
アビ汎用変数:効果割合 = 100
CALL アビテンプレート_ダメージ処理_自属性
IF デバフ存在チェック("恐怖", 戦闘行動キャラ) < 0
	敵BATTLE_STATE:(戦闘行動キャラ - 10):チャージターン += 1
ELSE
	;回数消費
	CALL デバフ回数経過処理(戦闘行動キャラ, "恐怖")
ENDIF

RETURN 1

@敵チャージ行動_Lv15_デンキンナギ
アビテンプレート用_アビ名 = 放電
アビ汎用文字列:実行時メッセージ１ = %敵BATTLE_STATE_STR:(戦闘行動キャラ - 10):エネミー名%は周囲すべてに電撃を放った！
アビ汎用文字列:実行時メッセージ２ = %敵BATTLE_STATE_STR:(戦闘行動キャラ - 10):エネミー名%の放電！

CALL アビ対象選択テンプレート_味方全体_生者のみ
アビ汎用変数:効果割合 = 150
CALL アビテンプレート_ダメージ処理_光属性
