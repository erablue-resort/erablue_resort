;------------------------------------------------------------------------------
;業務ルーチン 業務：雑務
;一時間ごとにランダムに移動する
;------------------------------------------------------------------------------
@MOVE_ROUTINE_業務_雑務(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = 450 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1320 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_雑務(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;8時半から雑務場所へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 510, "雑務", "所要時間", "150")
スケジュール番号++

;12時から昼休憩
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 720, "食事", "小分類", "お弁当", "所要時間", "40", "優先度", "4")
スケジュール番号++

;13時から雑務場所へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 780, "雑務", "所要時間", "180")
スケジュール番号++

;18時からお風呂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "お風呂", "所要時間", "60", "優先度", "2")
スケジュール番号++

;19時半の15分前(着替え時間)から食堂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1155, "食事", "所要時間", "60", "優先度", "4")
スケジュール番号++

;21時から寝るまでは自室
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "休憩")
スケジュール番号++


;------------------------------------------------------------------------------
;業務ルーチン 業務：常駐業務
;指定店舗に常駐する
;------------------------------------------------------------------------------
@MOVE_ROUTINE_業務_常駐業務(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		;現在仕事:キャラ番号:1に数字が入っている＝店舗常駐である
		RETURN 現在仕事:キャラ番号:1 > 0

	CASE "起床時刻"
		時間計算 = 450 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1320 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_常駐業務(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;8時半から常駐場所へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 510, "常駐業務", "所要時間", "150")
スケジュール番号++

;12時から昼休憩
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 720, "食事", "小分類", "お弁当", "所要時間", "40", "優先度", "4")
スケジュール番号++

;13時から常駐場所へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 780, "常駐業務", "所要時間", "180")
スケジュール番号++

;18時からお風呂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "お風呂", "所要時間", "60", "優先度", "2")
スケジュール番号++

;19時半の15分前(着替え時間)から食堂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1155, "食事", "所要時間", "60", "優先度", "4")
スケジュール番号++

;21時から寝るまでは自室
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "休憩")
スケジュール番号++


;------------------------------------------------------------------------------
;業務ルーチン 業務：秘書
;雑務と同様、たまに書類確認イベントが起こる
;------------------------------------------------------------------------------
@MOVE_ROUTINE_業務_秘書(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = CFLAG:MASTER:起床予定時刻 - 30
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1320 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_秘書(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;8時半から雑務場所へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 510, "雑務", "所要時間", "150")
スケジュール番号++

;12時から昼休憩
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 720, "食事", "小分類", "お弁当", "所要時間", "40", "優先度", "4")
スケジュール番号++

;13時から雑務場所へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 780, "雑務", "所要時間", "180")
スケジュール番号++

;18時からお風呂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "お風呂", "所要時間", "60", "優先度", "2")
スケジュール番号++

;19時半の15分前(着替え時間)から食堂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1155, "食事", "所要時間", "60", "優先度", "4")
スケジュール番号++

;21時から寝るまでは自室
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "休憩")
スケジュール番号++


;------------------------------------------------------------------------------
;業務ルーチン 業務：宣伝
;自室で内職している
;------------------------------------------------------------------------------
@MOVE_ROUTINE_業務_宣伝(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = 450 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1320 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_宣伝(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;8時半から自室へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 510, "宣伝", "所要時間", "150")
スケジュール番号++

;12時から昼休憩
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 720, "食事", "小分類", "お弁当", "所要時間", "40", "優先度", "4")
スケジュール番号++

;13時から自室へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 780, "宣伝", "所要時間", "180")
スケジュール番号++

;18時からお風呂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "お風呂", "所要時間", "60", "優先度", "2")
スケジュール番号++

;19時半の15分前(着替え時間)から食堂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1155, "食事", "所要時間", "60", "優先度", "4")
スケジュール番号++

;21時から寝るまでは自室
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "休憩")
スケジュール番号++


;------------------------------------------------------------------------------
;業務ルーチン 業務：訓練
;訓練所に常駐する
;------------------------------------------------------------------------------

@MOVE_ROUTINE_業務_訓練(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = 450 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1320 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_訓練(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;8時半から訓練場所へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 510, "訓練", "所要時間", "150")
スケジュール番号++

;12時から昼休憩
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 720, "食事", "小分類", "お弁当", "所要時間", "40", "優先度", "4")
スケジュール番号++

;13時から訓練場所へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 780, "訓練", "所要時間", "180")
スケジュール番号++

;18時からお風呂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "お風呂", "所要時間", "60", "優先度", "2")
スケジュール番号++

;19時半の15分前(着替え時間)から食堂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1155, "食事", "所要時間", "60", "優先度", "4")
スケジュール番号++

;21時から寝るまでは自室
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "休憩")
スケジュール番号++


;------------------------------------------------------------------------------
;業務ルーチン 業務：自動探索
;夕方までどこにもいない、早めに風呂に入ってからは自室へ
;------------------------------------------------------------------------------

@MOVE_ROUTINE_業務_自動探索(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = 450 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1320 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_自動探索(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "自動探索前")
スケジュール番号++

;8時半から自動探索へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 510, "自動探索", "優先度", "100")
スケジュール番号++

;18時からお風呂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "お風呂", "所要時間", "60", "優先度", "2")
スケジュール番号++

;19時半の15分前(着替え時間)から食堂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1155, "食事", "所要時間", "60", "優先度", "4")
スケジュール番号++

;21時から寝るまでは自室
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "休憩")
スケジュール番号++


;------------------------------------------------------------------------------
;業務ルーチン 業務：知識習得
;学校ルーチンと同一
;------------------------------------------------------------------------------

@MOVE_ROUTINE_業務_知識習得(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = 450 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1320 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_知識習得(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;8時半から学校へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 510, "学校に滞在")
スケジュール番号++

;9時から勉強
;授業時間は90分×2
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 540, "学校で勉強", "所要時間", "180")
スケジュール番号++

;弁当
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 690, "食事", "小分類", "お弁当", "所要時間", "40", "優先度", "4")
スケジュール番号++

;13時から勉強
;授業時間は90分×3+休憩15分
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 780, "学校で勉強", "所要時間", "285")
スケジュール番号++

IF TALENT:キャラ番号:定住者 == 1
	;居住区に住む場合は直帰

	;18時からお風呂
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "自室入浴", "所要時間", "60", "優先度", "2")
	スケジュール番号++

	;19時から自炊
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1140, "自炊", "所要時間", "60", "優先度", "4")
	スケジュール番号++

	;あとは寝るまで自室でのんびり
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1230, "休憩")
	スケジュール番号++
ELSE
	;18時からお風呂
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "お風呂", "所要時間", "60", "優先度", "2")
	スケジュール番号++

	;19時半の15分前(着替え時間)から食堂
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1155, "食事", "所要時間", "60", "優先度", "4")
	スケジュール番号++

	;21時から寝るまでは自室
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "休憩")
	スケジュール番号++
ENDIF


;------------------------------------------------------------------------------
;業務ルーチン 業務：教師
;学校に一日滞在してる
;------------------------------------------------------------------------------

@MOVE_ROUTINE_業務_教師(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = 450 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1320 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_教師(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;8時半から学校へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 510, "学校に滞在")
スケジュール番号++

;9時から学校
;授業時間は90分×2
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 540, "学校に滞在", "所要時間", "180")
スケジュール番号++

;お弁当
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 690, "食事", "小分類", "お弁当", "所要時間", "40", "優先度", "4")
スケジュール番号++

;13時から学校
;授業時間は90分×3+休憩15分
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 780, "学校に滞在", "所要時間", "285")
スケジュール番号++

IF TALENT:キャラ番号:定住者 == 1
	;居住区に住む場合は直帰

	;18時からお風呂
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "自室入浴", "所要時間", "60", "優先度", "2")
	スケジュール番号++

	;19時から自炊
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1140, "自炊", "所要時間", "60", "優先度", "4")
	スケジュール番号++

	;あとは寝るまで自室でのんびり
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1230, "休憩")
	スケジュール番号++
ELSE
	;18時からお風呂
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1080, "お風呂", "所要時間", "60", "優先度", "2")
	スケジュール番号++

	;19時半の15分前(着替え時間)から食堂
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1155, "食事", "所要時間", "60", "優先度", "4")
	スケジュール番号++

	;21時から寝るまでは自室
	CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "休憩")
	スケジュール番号++
ENDIF


;------------------------------------------------------------------------------
;業務ルーチン 業務：調理師
;食堂にだいたいいる
;------------------------------------------------------------------------------

@MOVE_ROUTINE_業務_調理師(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = 510 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1380 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_調理師(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;10時から食堂へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 600, "食堂業務", "所要時間", "180")
スケジュール番号++

;14時から昼休憩
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 840, "食事", "小分類", "まかない", "所要時間", "40", "優先度", "4")
スケジュール番号++

;15時から食堂へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 900, "食堂業務", "所要時間", "180")
スケジュール番号++

;20時から夕食
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1200, "食事", "小分類", "まかない", "所要時間", "40", "優先度", "4")
スケジュール番号++

;21時から風呂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "お風呂", "所要時間", "60", "優先度", "2")
スケジュール番号++

;22時から寝るまでは自室
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1320, "休憩")
スケジュール番号++

;------------------------------------------------------------------------------
;業務ルーチン 業務：給仕
;食堂にだいたいいる
;------------------------------------------------------------------------------

@MOVE_ROUTINE_業務_給仕(キャラ番号, ARGS)
#DIM キャラ番号
#DIM 時間計算

SELECTCASE ARGS
	CASE "参加判定"
		RETURN 1

	CASE "起床時刻"
		時間計算 = 510 - (TALENT:キャラ番号:早起き * 30)
		RETURN 時間計算

	CASE "就寝時刻"
		時間計算 = 1380 - (TALENT:キャラ番号:早寝 * 60)
		RETURN 時間計算

	CASE "就寝場所"
		RETURN 0

	CASE "初期位置"
		CFLAG:キャラ番号:現在位置 = キャラクター部屋検索(キャラ番号)
		CFLAG:キャラ番号:現在マップ種別 = 部屋検索_マップ種別
ENDSELECT

@ROUTINE_SCHEDULE_業務_給仕(キャラ番号)
#DIM キャラ番号
#DIM スケジュール番号

CALL RESET_SCHEDULE(キャラ番号)
スケジュール番号 = 0

;起床後は自室にいる
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 0, "休憩")
スケジュール番号++

;10時から食堂へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 600, "食堂業務", "所要時間", "180")
スケジュール番号++

;14時から昼休憩
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 840, "食事", "小分類", "まかない", "所要時間", "40", "優先度", "4")
スケジュール番号++

;15時から食堂へ
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 900, "食堂業務", "所要時間", "180")
スケジュール番号++

;20時から夕食
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1200, "食事", "小分類", "まかない", "所要時間", "40", "優先度", "4")
スケジュール番号++

;21時から風呂
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1260, "お風呂", "所要時間", "60", "優先度", "2")
スケジュール番号++

;22時から寝るまでは自室
CALL SET_SCHEDULE(キャラ番号, スケジュール番号, 1320, "休憩")
スケジュール番号++
